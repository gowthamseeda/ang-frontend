<gp-default-layout>
  <gp-header header-toolbar [breadcrumbItems]="[{label: 'MASTER_DATA', path: '/master'},
             {label: 'SERVICES'}]">
  </gp-header>

  <div gpContent>
    <div gpFxLayout="row">
      <div gpFxFlex>
        <div gpFxLayout="column" class="header">
          <h1>{{ 'MASTER_DATA_SERVICE_VARIANT' | translate }}</h1>
          <span>{{ 'MASTER_DATA_UPDATE_SERVICE_VARIANT_SUBTITLE' | translate }}</span>
        </div>
      </div>
      <gp-icon *ngIf="errorMessage !== ''" name="hint-error" [matTooltip]="errorMessage" size="medium">
      </gp-icon>
    </div>

    <div gpFxLayout="row">
      <div gpFxFlex style="display: block;">
        <gp-service-variant-configure-table [selectedServiceVariants]="selectedServiceVariant"
                                            (serviceVariantToUpdate)='serviceVariantToUpdate($event)'
                                            (hasValidChange)='hasValidChange($event)'>
        </gp-service-variant-configure-table>
      </div>
    </div>

    <div gpFxLayout="row">
      <div gpFxFlex style="display: block;">
        <gp-service-variant-country-drag-drop [countryRestrictions]="countryRestrictionIds"
                                              (restrictedCountries)="restrictedCountries($event)">
        </gp-service-variant-country-drag-drop>
      </div>
    </div>
  </div>

  <gp-default-edit-actions footer-toolbar gpFxFill [saveButtonDisabled]="saveButtonDisabled" (cancel)="cancel()"
                           (save)="edit()">
    <div class="bottom-right-action">
      <button mat-flat-button class="gp-icon-flat-button" routerLink="../">
        <gp-icon gpIconButtonWithText name="arrow-back" size="small"></gp-icon>
        {{ 'BACK' | translate }}
      </button>
    </div>
  </gp-default-edit-actions>
  <gp-message-on-leave [showMessage]="canDeactivate()"></gp-message-on-leave>
</gp-default-layout>
