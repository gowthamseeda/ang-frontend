<gp-overlay-layout [toolTipText]="'COMPANY_NAVIGATION_TREE'">
  <gp-outlet-header header-toolbar>
  </gp-outlet-header>

  <gp-edit-layout *ngIf="outletId"
                  logo="countries"
                  title="{{ 'OUTLET_RELATIONSHIPS' | translate }}"
                  closeLink="/outlet/{{ outletId }}">
    <gp-edit-section>
      <ng-container marginalContent>
        <div>
          <h1>{{ 'MARGINAL_CONTENT_OUTLET_RELATIONSHIPS_HEADER' | translate }}</h1>
          {{ 'MARGINAL_CONTENT_OUTLET_RELATIONSHIPS_TEXT' | translate }}
        </div>
      </ng-container>
      <gp-outlet-relationships-table [outletId]="outletId"
                                     [isEditable]="isAllowedEdit | async"
                                     (updateForm)="updateFormAndValidity()">
      </gp-outlet-relationships-table>
    </gp-edit-section>
  </gp-edit-layout>

  <ng-container footer-toolbar>
    <gp-default-edit-actions *ngIf="isAllowedEdit | async"
                             footer-toolbar
                             [saveButtonDisabled]='saveButtonDisabled'
                             [cancelButtonDisabled]='cancelButtonDisabled'
                             (save)='save()'
                             (cancel)='cancel()'>
    </gp-default-edit-actions>
  </ng-container>

  <ng-container overlay>
    <gp-outlet-tree-navigation gpFxFlex
                               gpFxFlexXsSm="auto"
                               style="display: inline">
    </gp-outlet-tree-navigation>
  </ng-container>
</gp-overlay-layout>

<gp-message-on-leave [showMessage]="canDeactivate()"></gp-message-on-leave>
